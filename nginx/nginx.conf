http{
    include       /etc/nginx/mime.types;
    default_type  application/octet-stream;

	# 백엔드 upstream 설정
    # upstream myweb-api {
    #     server api:8080;
    # }

	# 프론트엔드 upstream 설정
    upstream front-server {
        server 61.109.214.117:80;
    }

    server {
        listen 80;
        access_log /var/log/nginx/access.log;
        error_log /var/log/nginx/error.log;
        location / {
            # root를 /usr/share/nginx/html 을 바라보게 했으므로(Dockerfile 참고)
            # 해당 경로 아래에 배포해주면 됨
            root   /usr/share/nginx/html;
            index  index.html index.htm;
            try_files $uri $uri/ /index.html;
            # proxy_pass http://10.0.16.169:80/companies;
            proxy_pass http://front-server/;
        }
    }
}